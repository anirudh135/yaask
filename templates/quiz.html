{% extends "base.html" %}
{% block head %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="{{ url_for('static', filename='jquery.min.js') }}">\x3C/script>')</script>

<!-- Answer Checking Script -->
<script type='text/javascript' src="{{ url_for('static', filename='anscheck.js') }}">
</script>

<!-- Materialize, note: the js has to be loaded AFTER Jquery -->
<!-- Compiled and minified CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/css/materialize.min.css">
<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js"></script>
<!--Let browser know website is optimized for mobile-->
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

</style>
<!-- Required for the page -->
<script type='text/javascript'>

	//sets the global variable to the prefix to the root of the application
	$SCRIPT_ROOT = {{ request.script_root | tojson | safe }};

</script>
    
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
<link rel="stylesheet" type="text/css" media="screen" href="{{url_for('static',filename='../static/css/quiz.css') }}">

<style>
	p{
		display: flex;
	}
	.MathJax_Display{
		margin: 0em 0em!important;
	}
	sup{
		top: 0em;
	}
	sub{
		bottom: -1.75em;
	}
</style>
<title>Quiz | Yaask Labs</title>
{% endblock head %}

{%  block navbar %}
<div class="navigation">
	<ul id="quizdropdown" class="dropdown-content">
		<li><a href="{{ url_for('quiz') }}" >All Categories</a></li>
		<li><a href="{{ url_for('categorywise', category='math') }}">Math</a></li>
		<li><a href="{{ url_for('categorywise', category='physics') }}">Physics</a></li>
		<li><a href="{{ url_for('categorywise', category='chemistry') }}">Chemistry</a></li>
		<li><a href="{{ url_for('categorywise', category='biology') }}">Biology</a></li>
	</ul>
	<!-- Since the selectors based on ID and it seems duplicates cause an error -->
	<ul id="quizdropdown" class="dropdown-content">
		<li><a href="{{ url_for('quiz') }}" >All Categories</a></li>
		<li><a href="{{ url_for('categorywise', category='math') }}">Math</a></li>
		<li><a href="{{ url_for('categorywise', category='physics') }}">Physics</a></li>
		<li><a href="{{ url_for('categorywise', category='chemistry') }}">Chemistry</a></li>
		<li><a href="{{ url_for('categorywise', category='biology') }}">Biology</a></li>
	</ul>

	<ul id="user-dropdown" class="dropdown-content">
		<li><a href="#" >Profile</a></li>
		<li><a href="#">Settings</a></li>
		<li><a href="{{ url_for('logout') }}">Logout</a></li>
		
	</ul>
	<!-- Since the selectors based on ID and it seems duplicates cause an error -->
	<ul id="user-dropdown" class="dropdown-content">
		<li><a href="#" >Profile</a></li>
		<li><a href="#">Settings</a></li>
		<li><a href="{{ url_for('logout') }}">Logout</a></li>
		
	</ul>
	<nav class="#4a148c purple darken-4">
		<div class="nav-wrapper black-text">
			<a href="{{ url_for('home') }}" class="brand-logo">Yaask <img src="{{url_for('static',filename='../static/assets/yaask.png')}}" style="height: 25px;" > Labs</a>
			<a href="" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
			<ul id="nav-mobile" class="right hide-on-med-and-down">
				
				<li><a  class="" href="{{ url_for('home') }}">Home</a></li>
				<li><a class="dropdown-button" href="" data-activates="quizdropdown">Choose Subject<i class="material-icons right">arrow_drop_down</i></a></li>
				<li><a class="" href="{{ url_for('submit') }}">Add Questions</a></li>
				<li><a  class="" href="{{ url_for('test') }}">Preview questions</a></li>
				{% if current_user.name %}
				<li><a class="dropdown-button" href="" data-activates="user-dropdown">Hi, {{current_user.name}}<i class="material-icons right">arrow_drop_down</i></a></li>
				{% else %}
				<li><a  class="black-text" href="{{ url_for('login') }}">Login</a></li>
					<li><a  class="black-text" href="{{ url_for('register') }}">Register</a></li>
				{% endif %}
				
			</ul>
			
			<ul id="mobile-demo" class="right side-nav">
				
				<li><a href="{{ url_for('home') }}">Home</a></li>
				<li><a class="dropdown-button" href="" data-activates="quizdropdown">Choose Subject<i class="material-icons right">arrow_drop_down</i></a></li>
				<li><a href="{{ url_for('submit') }}">Add Questions</a></li>
				<li><a href="{{ url_for('test') }}">Preview Questions</a></li>
				{% if current_user.name %}
					<li><a class="dropdown-button black-text" href="" data-activates="user-dropdown">Hi, current_user.name<i class="material-icons right">arrow_drop_down</i></a></li>
				{% else %}
					<li><a href="{{ url_for('login') }}">Login</a></li>
					<li><a href="{{ url_for('register') }}">Registeer</a></li>
				{% endif %}
				
			</ul>
		</div>
	</nav>
</div>
<!-- NavBar -->
{% endblock %}
{% block content %}

<div class="mhead">Answer the Questions</div>
<h6>Choose your answer from the DROPDOWNS and click to submit</h6>
<br>

<form action="" method='POST'>
	{% for question_to_display in questions_to_display %}
	<div class="{{ question_to_display.questionid }} a{{(loop.index)%2}}">
		<div style="display: flex;">
			<div style="width: 5%;">
				<div class="row">
					<div class="qs col">
						{{loop.index}}.) &nbsp &nbsp
					</div>
				</div>
			</div>
				<div style="width: 85%;">
					<div class="row">
						<div class="qs col s12">
							{{ question_to_display.question|safe }}
						</div>
					</div>
					{% if ((question_to_display.option1=='-1') and (question_to_display.option2=='-1') and (question_to_display.option3=='-1') and (question_to_display.option4=='-1')) %}
					{% else %}
			
					<div class="row">
						<div class="col s6">
							A: {{ question_to_display.option1 }}
						</div>
						<div class="col s6">
							B: {{ question_to_display.option2 }}
						</div>
					</div>
					<div class="row">
						<div class="col s6">
							C: {{ question_to_display.option3 }}
						</div>
						<div class="col s6">
							D: {{ question_to_display.option4 }}
						</div>
					</div>

				{% endif %}
				</div>

		</div>
		<div class="row ans">
			<div class="col" style="padding: ;">
				Correct Answer: {{question_to_display.answer}}
			</div>
		</div>
	</div>
	</br>
	{% endfor %}

</form>

{% endblock content %}

<!-- Add the ajax answer submission
	Add the logic to exclude the answered questions -->